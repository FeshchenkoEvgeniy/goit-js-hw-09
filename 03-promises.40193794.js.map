{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACaC,SAASC,cAAc,SAE/BC,iBAAiB,UAItB,SAAiBC,GACfA,EAAIC,iBASJ,IAPA,IAEqBC,EAAjBF,EAAIG,cADNC,SAAYC,EAAKH,EAALG,MAAOC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAGrBC,EAAaC,OAAOJ,EAAMK,OAC1BC,EAAYF,OAAOH,EAAKI,OACxBE,EAAcH,OAAOF,EAAOG,OACzBG,EAAI,EAAGA,GAAKD,EAAaC,GAAK,EAAE,CAGvCC,EAFAC,GAAmB,EACMP,EAAaG,GAAaI,EAAkB,IACpBC,KAAKC,GAAWC,MAAMC,E,KAf3E,IAAIJ,EAAkB,EAmBtB,SAASD,EAAcM,EAAUf,GAC/B,IAAMgB,EAAgBC,KAAKC,SAAW,GAWrC,OATe,IAAIC,SAAQ,SAACC,EAAKC,GAClCC,YAAW,WACLN,EACFI,EAAI,CAAEL,WAAUf,UAEhBqB,EAAI,CAAEN,WAAUf,S,GAEjBA,E,IAKL,SAASY,EAAUW,G,IAAER,EAAFQ,EAAER,SAAUf,EAAZuB,EAAYvB,MAC7BwB,EAAAlC,GAASmC,OAAOC,QAAQ,uBAAwCC,OAAfZ,EAAS,QAAYY,OAAN3B,EAAM,M,CAGxE,SAASc,EAAQS,G,IAAER,EAAFQ,EAAER,SAAUf,EAAZuB,EAAYvB,MAC5BwB,EAAAlC,GAASmC,OAAOG,QAAQ,sBAAqCD,OAAfZ,EAAS,QAAYY,OAAN3B,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onClick);\n\nlet counterPosition = 0;\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  const {\n    elements: { delay, step, amount }\n  } = evt.currentTarget;\n\n  const firstDelay = Number(delay.value);\n  const stepDelay = Number(step.value);\n  const amountValue = Number(amount.value)\n  for (let i = 0; i <= amountValue; i += 1){\n    counterPosition += 1;\n    const delayStepCounter = firstDelay + stepDelay * (counterPosition - 1);\n    createPromise(counterPosition, delayStepCounter).then(onSuccess).catch(onError)\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((res, rej) => {\n  setTimeout(() => {\n    if (shouldResolve) {\n      res({ position, delay })\n  } else {\n      rej({ position, delay })\n  }\n  }, delay)\n   });\n   return promise;\n}\n\nfunction onSuccess({ position, delay }) {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\nfunction onError({ position, delay }) {\n Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n};\n"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","evt","preventDefault","_elements","currentTarget","elements","delay","step","amount","firstDelay","Number","value","stepDelay","amountValue","i","$ce04d3a99e08e73b$var$createPromise","$ce04d3a99e08e73b$var$counterPosition","then","$ce04d3a99e08e73b$var$onSuccess","catch","$ce04d3a99e08e73b$var$onError","position","shouldResolve","Math","random","Promise","res","rej","setTimeout","param","$parcel$interopDefault","Notify","success","concat","failure"],"version":3,"file":"03-promises.40193794.js.map"}